/*
 *  Tyrion Chat jQuery - v0.0.1
 *  a simples chat system, like gTalk or facebook, and which always pays his debts.
 *  https://github.com/ederFortunato//tyrion-chat/
 *
 *  Made by Eder Fortunato
 *  Under MIT License
 */
!function(a){"use strict";function b(b,e){this.element=b,this.settings=a.extend({},d,e),this._defaults=d,this._name=c,this.init()}var c="tyrionChat",d={ID:"",name:"",friends:[]};b.prototype={init:function(){var b,c=this.settings,d=a("<div class='chat-container'></div>");a(this.element).append(d),d.append(this.createUsersList(c.friends));for(b in c.friends)d.append(this.createRoom(c.friends[b]));d.find(".chat-btn-minimize").click(function(b){a(this).parent().parent().toggleClass("chat-minized"),b.stopPropagation()}),d.find(".chat-btn-close").click(function(b){a(this).parent().parent().remove(),b.stopPropagation()}),d.find(".chat-header").click(function(b){a(this).parent().toggleClass("chat-minized"),b.stopPropagation()})},createUsersList:function(b){var c,d="";for(c in b)d+="<div class='chat-list-user'><div class='chat-user-photo'></div><div class='chat-user-link-name'>"+b[c].name+"</div>"+"<div class='chat-icon-online'></div>"+"</div>";return a("<div class='chat-box chat-box-friends'><div class='chat-header'><span class='chat-header-name'>My Friends</span><a href='#'' class='chat-btn chat-btn-minimize'>_</a></div><div class='chat-body'>"+d+"</div>")},createRoom:function(b){return a("<div class='chat-box'><div class='chat-header'><span class='chat-icon-online'></span><span class='chat-header-name'>"+b.name+"</span>"+"<a href='#'' class='chat-btn chat-btn-close'>X</a>"+"<a href='#'' class='chat-btn chat-btn-minimize'>_</a>"+"</div>"+"<div class='chat-body'>"+"<div class='chat-conversation'>"+"<div class='chat-user-photo'></div>"+"<div class='chat-user-name'>Eder</div>"+"<div class='chat-user-msg'>bla bla bla bla bla bla bla bla bla bla bla bla</div>"+"</div>"+"<div class='chat-conversation'>"+"<div class='chat-user-photo'></div>"+"<div class='chat-user-name'>Eder</div>"+"<div class='chat-user-msg'>bla bla bla bla bla bla bla bla bla</div>"+"</div>"+"<div class='chat-conversation'>"+"<div class='chat-user-photo'></div>"+"<div class='chat-user-name'>Eder</div>"+"<div class='chat-user-msg'>bla bla bla bla bla bla bla bla bla bla bla bla bla bla bla</div>"+"</div>"+"</div>"+"<div class='chat-footer'>"+"<textarea></textarea>"+"</div>")}},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document);